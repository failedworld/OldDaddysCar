{"version":3,"sources":["assets/Script/DaddyCar.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,yCAAoC;AACpC,yCAAoC;AAE9B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEA6CC;QA3CG,WAAK,GAAG,CAAC,CAAA;QAET,WAAK,GAAG,CAAC,CAAA;QAGT,eAAS,GAAG,GAAG,CAAA;QAGf,eAAS,GAAW,IAAI,CAAA;;IAmC5B,CAAC;IAjCG,wBAAK,GAAL;QACI,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAA;IAEpD,CAAC;IAED,mCAAgB,GAAhB,UAAiB,KAAK;QAClB,IAAI,CAAC,KAAK,IAAI,CAAC,CAAA;QACf,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC,QAAQ,EAAE,CAAA;QACjD,OAAO,CAAC,GAAG,CAAC,0BAA0B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;IACxD,CAAC;IAED,yBAAM,GAAN,UAAQ,EAAE;QACN,IAAI,mBAAS,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,UAAU;YAC/C,OAAM;QAEV,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC;YACd,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAA;QAEhC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC;YACd,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAA;QAEhC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAA;QAEzB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YAC9C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QAChD,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;IAErD,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAK;QACV,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;IACtB,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACJ;IAGf;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACM;IAVP,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA6C5B;IAAD,eAAC;CA7CD,AA6CC,CA7CqC,EAAE,CAAC,SAAS,GA6CjD;kBA7CoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport GameLogic from \"./GameLogic\";\nimport GameState from \"./GameState\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class DaddyCar extends cc.Component {\n\n    count = 0\n    \n    power = 0\n\n    @property(cc.Float)\n    backForce = 0.0\n\n    @property(cc.Node)\n    gameLogic:cc.Node = null\n\n    start () {\n        cc.director.getCollisionManager().enabled = true\n\n    }\n\n    onCollisionEnter(other){\n        this.count += 1\n        this.gameLogic.getComponent(GameLogic).gameOver()\n        console.log(\"=======collision =======\" + this.count)\n    }\n\n    update (dt) {\n        if (GameState.instance.getGameState() == 'GameOver')\n            return\n\n        if (this.power > 0 )\n            this.power -= this.backForce\n        \n        if (this.power < 0)\n            this.power += this.backForce\n\n        this.node.x += this.power\n\n        if (this.node.x > (1080 / 2 - this.node.width / 2))\n            this.node.x = 1080 / 2 - this.node.width / 2\n        if (this.node.x < -1080 / 2 + this.node.width / 2)\n            this.node.x = -1080 / 2 + this.node.width / 2\n\n    }\n\n    setPower(power){\n        this.power = power\n    }\n}\n"]}