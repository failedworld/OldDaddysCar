{"version":3,"sources":["assets\\Script\\DaddyCar.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,yCAAoC;AACpC,yCAAoC;AAE9B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEA6CC;QA3CG,WAAK,GAAG,CAAC,CAAA;QAET,WAAK,GAAG,CAAC,CAAA;QAGT,eAAS,GAAG,GAAG,CAAA;QAGf,eAAS,GAAW,IAAI,CAAA;;IAmC5B,CAAC;IAjCG,wBAAK,GAAL;QACI,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAA;IAEpD,CAAC;IAED,mCAAgB,GAAhB,UAAiB,KAAK;QAClB,IAAI,CAAC,KAAK,IAAI,CAAC,CAAA;QACf,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC,QAAQ,EAAE,CAAA;QACjD,OAAO,CAAC,GAAG,CAAC,0BAA0B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;IACxD,CAAC;IAED,yBAAM,GAAN,UAAQ,EAAE;QACN,IAAI,mBAAS,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,UAAU;YAC/C,OAAM;QAEV,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC;YACd,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAA;QAEhC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC;YACd,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAA;QAEhC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAA;QAEzB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YAC9C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QAChD,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;IAErD,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAK;QACV,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;IACtB,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACJ;IAGf;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACM;IAVP,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA6C5B;IAAD,eAAC;CA7CD,AA6CC,CA7CqC,EAAE,CAAC,SAAS,GA6CjD;kBA7CoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport GameLogic from \"./GameLogic\";\r\nimport GameState from \"./GameState\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DaddyCar extends cc.Component {\r\n\r\n    count = 0\r\n    \r\n    power = 0\r\n\r\n    @property(cc.Float)\r\n    backForce = 0.0\r\n\r\n    @property(cc.Node)\r\n    gameLogic:cc.Node = null\r\n\r\n    start () {\r\n        cc.director.getCollisionManager().enabled = true\r\n\r\n    }\r\n\r\n    onCollisionEnter(other){\r\n        this.count += 1\r\n        this.gameLogic.getComponent(GameLogic).gameOver()\r\n        console.log(\"=======collision =======\" + this.count)\r\n    }\r\n\r\n    update (dt) {\r\n        if (GameState.instance.getGameState() == 'GameOver')\r\n            return\r\n\r\n        if (this.power > 0 )\r\n            this.power -= this.backForce\r\n        \r\n        if (this.power < 0)\r\n            this.power += this.backForce\r\n\r\n        this.node.x += this.power\r\n\r\n        if (this.node.x > (1080 / 2 - this.node.width / 2))\r\n            this.node.x = 1080 / 2 - this.node.width / 2\r\n        if (this.node.x < -1080 / 2 + this.node.width / 2)\r\n            this.node.x = -1080 / 2 + this.node.width / 2\r\n\r\n    }\r\n\r\n    setPower(power){\r\n        this.power = power\r\n    }\r\n}\r\n"]}